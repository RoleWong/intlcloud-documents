
TencentDB for MySQL은 커널 마이너 버전의 자동 또는 수동 업그레이드를 지원합니다. ​커널 마이너 버전을 업그레이드하여 새 기능을 사용하거나 성능을 향상시키고 문제를 해결할 수 있습니다.
TencentDB for MySQL 커널 마이너 버전의 기능에 대한 자세한 내용은 [커널 버전 업데이트 동향](https://intl.cloud.tencent.com/document/product/236/35989)을 참조하십시오.

>?단일 노드 - 클라우드 디스크 버전 인스턴스는 현재 커널 마이너 버전 업그레이드를 지원하지 않습니다.

## 개요
- **자동 업그레이드 트리거 시나리오**:
 - 시나리오1: TencentDB for MySQL에 중대한 Bug 또는 보안 취약점이 발생하는 경우, 시스템이 귀하의 점검 시간 내에 데이터베이스 커널 마이너 버전 업그레이드를 시작하고 내부 메시지 및 SMS 등의 방식을 통해 사전에 업그레이드 공지를 발송합니다.
 - 시나리오2: TencentDB for MySQL에 인스턴스 마이그레이션을 트리거하는 작업이 발생한 경우(예: 인스턴스 사양 업그레이드/다운그레이드, 디스크 용량 확장 및 축소, 데이터베이스 버전 업그레이드 등), 시스템에서 인스턴스를 최신 커널 마이너 버전으로 업그레이드합니다. 원본 인스턴스에 RO 인스턴스가 있는 경우 시스템은 원본-복제본 동기화 호환성을 자동으로 결정하고 원본 인스턴스는 마이그레이션 중에 RO 인스턴스보다 높은 버전의 마이너 버전을 사용하지 않습니다.
- **수동 업그레이드 시나리오**:
자동 업그레이드 시나리오 외에도, 사용자는 자체적으로 콘솔에서 커널 마이너 버전을 수동으로 업그레이드할 수 있습니다.


## 업그레이드 규칙
- 업그레이드하려는 커널 버전의 인스턴스에 기타 인스턴스(원본 인스턴스, 읽기 전용 인스턴스)를 연결한 경우, 복사된 데이터의 일치성을 위해 관련 인스턴스가 커널 마이너 버전으로 함께 업그레이드됩니다.
- TencentDB for MySQL 버전 업그레이드는 데이터 마이그레이션과 연관되어 있습니다. 보통 마이그레이션 속도는 데이터 양에 따라 달라지므로 잠시만 기다려 주시기 바랍니다. 해당 작업은 사용자의 비즈니스에 영향을 미치지 않으며, 정상적으로 액세스할 수 있습니다.

## 주의 사항
- 버전 업그레이드 완료 후 인스턴스가 전환될 수 있으므로(MySQL 데이터베이스 연결이 몇 초간 끊김), 프로그램에 자동 재연결 기능을 적용하고 점검 시간 내에 전환되도록 설정하시기를 권장합니다. 자세한 내용은 [인스턴스 점검 시간 설정](https://intl.cloud.tencent.com/document/product/236/10929)을 참조하십시오.
- 단일 인스턴스의 테이블 수량은 100만을 초과 시에 업그레이드에 실패할 수 있습니다. 또한 데이터베이스 모니터링에도 영향을 미칠 수 있으므로, 테이블 수량을 합리적으로 구성하고 단일 인스턴스 테이블 수량은 100만 미만으로 제어하시기 바랍니다.
- 커널 마이너 버전 업그레이드 후에는 다운그레이드할 수 없습니다.

## 작업 단계
1. [TencentDB for MySQL 콘솔](https://console.cloud.tencent.com/cdb)에 로그인한 후, 인스턴스 리스트에서 타깃 인스턴스를 찾고, 인스턴스 ID 또는 **작업** 열의 **관리**를 클릭하여 인스턴스 상세 페이지로 이동합니다.
2. 인스턴스 상세 페이지의 **설정 정보**에서 **커널 마이너 버전 업그레이드**를 클릭합니다.
![](https://main.qcloudimg.com/raw/3fda3cffc784b3cde619e698d728d486.png)
3. 팝업 창에서 관련 구성을 선택한 뒤 **업그레이드**를 클릭합니다.
**데이터 검증 딜레이 임계값**: (이 설정은 원본 인스턴스가 업그레이드된 경우에만 표시됨) 임계값은 1초 - 10초 사이의 정수입니다. 데이터 일관성 확인 중 지연이 있을 수 있습니다. 데이터 지연 임계값을 설정해야 합니다. 데이터베이스 일관성 검사는 지연이 설정 값을 초과하면 일시 중지되고 지연이 임계값 아래로 떨어지면 다시 시작됩니다. 임계값이 너무 작으면 마이그레이션 시간이 더 오래 걸릴 수 있습니다. 
>!데이터베이스 커널 마이너 버전 업그레이드는 데이터 마이그레이션과 연관되어 있어 업그레이드 완료 시 MySQL 데이터베이스 연결이 몇 초간 끊길 수 있습니다. 전환 시간을 **점검 시간 내**로 선택하면 업그레이드 후 다음 점검 시간에 인스턴스 전환이 시작됩니다.
>
![](https://qcloudimg.tencent-cloud.cn/raw/c758e092bce297bbfeb553297bf9b266.png)
