
このドキュメントでは、コンソール経由でMySQLインスタンスのクローンを作成する方法をご紹介します。これによりインスタンスを新規購入したMySQLインスタンスに迅速にリストアできるようになります。

## ユースケース
TencentDB for MySQLは、インスタンスのクローン作成機能を提供しています。クローンを作成し、ログバックアップ保留時間内の任意の時間点にリストアする機能、また指定する物理バックアップのバックアップセットからリストアする機能をサポートしています。クローンはまず、ユーザーが選択した時間点にもとづき、バックアップデータによって新しいインスタンスを作成します。新しいインスタンスの検証が済んだ後は、データを[DTS](https://intl.cloud.tencent.com/document/product/571/13709) 経由でソースインスタンスに移行するか、またはクローン作成した新規インスタンスを直接使用することができます。

#### クローンの方式
- 時間点によるクローン：インスタンスを任意の時間点にリストアします。時間点の選択範囲は設定したログ保留時間によって決まります。
- バックアップセットによるクローン：インスタンスを任意の物理バックアップのバックアップセットにリストアします。バックアップセットの選択範囲は設定するデータバックアップ保留時間によって決まります。

#### 新規インスタンスの費用
- 新しくクローン作成したインスタンスの課金方式は従量課金となります。従量課金の概要と費用については、[課金概要](https://intl.cloud.tencent.com/document/product/236/18335)をご参照ください。
- 新規クローンインスタンスは、クローンが完成してから課金が開始されます。  

##  前提条件
- サポートするインスタンスのバージョン：MySQL単一ノード、2ノードおよび3ノード。
- ソースインスタンスの状態は**稼働中**となっている必要があります。
- **バックアップセット別**でのクローン方法を選択する場合、ソースインスタンスは物理バックアップが完了し、バックアップ状態が[コンソール](https://console.cloud.tencent.com/cdb)のバックアップリストで確認できる状態になっている必要があります。
- アカウントの残額が0を上回っている必要があります。

## 注意事項
- 新しいクローンインスタンスのサイズは、ソースインスタンスのサイズ以上である必要があります。
- 新規クローンインスタンスのディスク容量は、クローンを作成予定のデータより大きくする必要があります。そうでない場合、クローンに失敗する可能性があります。
- 新規クローンインスタンスのアベイラビリティーゾーン、データベースバージョン、レプリケーション方式、デフォルトのデータベースパラメータはソースインスタンスと同じにする必要があります。
- クローンの作成中は、新規クローンインスタンスはコンソールのリストに表示されません。クローンが完成してから確認できるようになります。

## 操作手順
1. [MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスリストのインスタンスIDまたは**操作**列の**管理**をクリックして、インスタンス管理ページに進みます。
2. インスタンス管理ページで、**バックアップ復元** > **データバックアップリスト**ページを選択してから、左上隅の**クローン**をクリックするか、クローンするバックアップの「操作」列で**クローン**をクリックします
![](https://main.qcloudimg.com/raw/b53e3c4f249a5f22638c32f4c92c7f75.png)
3. 購入画面に入り、クローンインスタンスのクローン方法と対応する設定を選択し、間違いないことを確認してから、**今すぐ購入**をクリックします。
 - 時間点によるリストア：ソースデータベースインスタンスから具体的な特定の時点のデータベースのインスタンスをリストアすることができます。時点の選択範囲は、設定したログバックアップの保存時間によって決まります。
 - バックアップセットによるリストア：指定したバックアップセットから、新しいインスタンスをリストアすることができます。バックアップセットの選択範囲は、設定したデータバックアップ保存時間によって決まります。
>?バックアップ保留時間は、[コンソール](https://console.cloud.tencent.com/cdb) のバックアップリストで確認することができます。
>
![](https://main.qcloudimg.com/raw/f2fcdd5471326b60f6ee7ea8872f00bc.png)
4. 購入完了後、**バックアップ復元** > **クローンリスト**ページでクローンの詳細を確認できます。
![](https://main.qcloudimg.com/raw/3b6a2781adafd4cbde550ea00f3898a8.png)
5. インスタンスのクローン完成後、インスタンスリスト画面で新規購入したインスタンスの詳細を確認できます。

##  関連ドキュメント
- データベースのシングルデータベースおよびシングルテーブルクラスのデータベースのリストアについては、[データベースのロールバック](https://intl.cloud.tencent.com/document/product/236/7276)をご参照ください。
- データを自社構築のデータベースにリストアする場合は、[物理バックアップによるデータベースの復元](https://intl.cloud.tencent.com/document/product/236/31910) または [論理バックアップによるデータベースの復元](https://intl.cloud.tencent.com/document/product/236/31909)をご参照ください。

## よくあるご質問
#### クローン作成プロセスでは、ソースインスタンスのアクセスに影響が出ますか？
クローン作成プロセスでは既存のバックアップセットおよびCOSにアップロードしたbinlogを使用してクローンを作成しますので、ソースインスタンスのアクセスに影響が出ることはありません。
