- **バックアップ容量の課金に関連する質問**
 -  [バックアップ容量の料金はどのように請求されますか？](#bfwt1)
 -  [バックアップ容量のオーバーヘッドを削減するには、どうすればよいですか？](#bfwt2)
- **バックアップデータベースに関連する質問**
 - [自動バックアップを設定するには、どうすればよいですか？](#bfwt3)
 - [手動バックアップタスクを開始できないのはなぜですか？](#bfwt13)
 - [サブデータベーステーブルの論理バックアップとダウンロードを実行できないのはなぜですか？](#bfwt14)
 - [開発者の場合、データをバックアップするには、どうすればよいですか？](#bfwt4)
 - [バックアップ保存時間を過ぎたバックアップはまだダウンロードまたは復元できますか？](#bfwt11)
 - [データとログのバックアップを無効にしてもよいですか？](#bfwt12)
 - [バックアップタスクをキャンセルするには、どうすればよいですか？](#bfwt9)
 - [バックアップは手動で削除できますか？](#bfwt8)
- **バックアップ復元に関連する質問**
 - [xbstreamとpressツールをダウンロードするには、どうすればよいですか？](#bfwt16)
 - [ダウンロードしたバックアップファイルをtarで解凍およびアンパックできないのはなぜですか？](#bfwt15)
 - [バックアップのダウンロード速度が遅いという問題を解決するには、どうすればよいですか？](#bfwt10)
 - [データバックアップファイルをダウンロードするときにエラーが発生するのはなぜですか？](#bfwt6)
 - [ダウンロードしたバックアップを別のTencentDB for MySQLインスタンス上に復元できますか？](#bfwt7)
 - [1つのノード - 基本タイプのインスタンスのバックアップを復元または移行するには、どうすればよいですか？](#bfwt5)


 [](id:bfwt1)
### バックアップスペースの料金はどのように請求されますか？ 
TencentDB for MySQLは一定レベルの無料バックアップキャパシティをエリアごとにプレゼントします。無料バックアップキャパシティのサイズは、お客様の対応エリアでのすべての2つのノードと3つのノードインスタンス（マスターインスタンス、ディザスタリカバリインスタンスを含む）のストレージキャパシティの和です。
単一ノードのクラウドディスクインスタンスが実際に使用する容量と、受け取った無料メモリ容量は別々に反映され、単一ノードのクラウドディスクインスタンスのバックアップ復元ページで確認できます。
![](https://staticintl.cloudcachetci.com/yehe/backend-news/cwQh785_6.png)
無料限度額を超えたバックアップ容量の価格設定の詳細については、[バックアップ容量の課金説明](https://intl.cloud.tencent.com/document/product/236/32344)をご参照ください。

[](id:bfwt2)
### バックアップスペースのオーバーヘッドをどのように削減しますか？
- 今後使用しない手動バックアップデータを削除します（手動バックアップは[MySQLコンソール](https://console.cloud.tencent.com/cdb)のインスタンス管理ページ > バックアップのリカバーページで削除可能です）。 
- 非コアビジネスのデータの自動バックアップ頻度を減らします（コンソールでバックアップ周期とバックアップ保留時間を調整することができ、1週間に2回以上バックアップします）。
>?[ロールバック機能](https://intl.cloud.tencent.com/document/product/236/7276) は、バックアップサイクルとバックアップ保持日数内のデータバックアップ+ ログバックアップ(binlog)を基準にしています。自動バックアップ頻度と保持日数を短縮すると、インスタンスデータのロールバック期間の範囲に影響します。バックアップの設定は十分に検討してください。
>
- 非コアビジネスのデータバックアップおよびログバックアップの保存時間を短縮します(7日間のバックアップ保留時間は、既に大部分のシナリオの要件を満たすことができます)。

| サービスケース             | バックアップ保留時間                                                 |
| -------------------- | ------------------------------------------------------------ |
| 中核サービス             | 7日 - 1830日をお勧めします                                              |                               　
| 中核でない、データ類でないサービス | 7日をお勧めします                                                       |                                                  
| アーカイブ類サービス             | バックアップの保留時間を7日間とし、実際のサービスニーズにより手動でデータをバックアップし、使い終わったら適時に削除することをお勧めします |
| テスト類サービス             | バックアップの保留時間を7日間とし、実際のサービスニーズにより手動でデータをバックアップし、使い終わったら適時に削除することをお勧めします |

[](id:bfwt3)
### 自動バックアップをどのように設定しますか？
[MySQLコンソール](https://console.cloud.tencent.com/cdb)のインスタンスの[バックアップと復元]ページで設定することができます。
![](https://qcloudimg.tencent-cloud.cn/raw/053719ca0c4898c87bad068cbf70651c.png)

[](id:bfwt4)
### 開発者はどのようにデータをセルフバックアップしますか？
TencentDB for MySQLインスタンスは、デフォルトで毎日完全バックアップを行います。[バックアップ方法](https://intl.cloud.tencent.com/document/product/236/37796)をご参照ください。データを一時的にバックアップする必要がある場合は、以下の方法でデータをバックアップすることもできます：
- mysqldumpツールによりデータをセルフバックアップします。
- Navicat Premiumなどのサードパーティツールによりバックアップを行います。
- [phpMyAdminにログイン](https://intl.cloud.tencent.com/document/product/236/39353)を選択し、上部のナビゲーションバーにある**エクスポート**をクリックしてデータをバックアップします。

[](id:bfwt5)
### 1つのノード - 基本タイプのインスタンスのバックアップを復元または移行するには、どうすればよいですか？
1つのノード - 基本タイプのインスタンスはスナップショットのみをサポートします。[Tencent Cloud Command Line Interfaceツールによるデータの移行](https://intl.cloud.tencent.com/document/product/236/8464)を参照してデータを移行することができます。

[](id:bfwt6)
### データバックアップファイルをダウンロードするとエラーが発生するのはなぜですか？
`wget -c 'バックアップファイルのダウンロードアドレス' -Oカスタムファイル名.xb`コマンドを使用してバックアップをダウンロードする時、プログラムがデータを識別してエラーを防止するために、英語に使用されている2つのアポストロフィ「'」を使用してダウンロードアドレスを括るように注意してください。

[](id:bfwt7)
### ダウンロードしたバックアップを別のTencentDB for MySQLインスタンスに復元できますか。
ダウンロードしたバックアップファイルを介して別のデータベースに復元することをサポートします。詳しい操作については、[論理バックアップによるデータベースの復元](https://intl.cloud.tencent.com/document/product/236/31909)をご参照ください。

[](id:bfwt8)
### バックアップは手動で削除できますか？
- 自動バックアップしたものは手動で削除することはできませんが、バックアップ保持期間を設定して、期限がきたら自動削除することができます。
- 手動でのバックアップは、バックアップリストから手動で削除できます。手動で削除しない限り、バックアップは永久に保存されます。
 1. [MySQLコンソール](https://console.cloud.tencent.com/cdb)にログインし、インスタンスIDをクリックして管理画面に進み、**バックアップの復元**ページを選択します。
 2. バックアップリストで、**操作**列の**削除**をクリックして削除を行います。

[](id:bfwt9)
### バックアップタスクはどのようにキャンセルしますか？
バックアップタスクはキャンセルできません。

[](id:bfwt10)
### バックアップのダウンロードの遅さはどのように解決しますか？
[MySQLコンソール](https://console.cloud.tencent.com/cdb)インスタンスの【バックアップと復元】ページでダウンロードアドレスを複製し、TencentDBインスタンスと同じVPCの(Linux)CVMインスタンスにログインして、wgetコマンドを実行してプライベートネットワークの高速ダウンロードを行うと、より効率的でお勧めです。
`wgetコマンド形式：wget -c 'バックアップファイルのダウンロードアドレス' -O カスタムファイル名.xb`

[](id:bfwt11)
### バックアップ保留時間を過ぎたバックアップはまだダウンロードまたは復元できますか？
期限切れのバックアップセットは自動的に削除され、ダウンロードまたは復元できません。
- ニーズに基づきバックアップ保留時間を適切に設定するか、[MySQLコンソール](https://console.cloud.tencent.com/cdb)でバックアップファイルをローカルにダウンロードすることをお勧めします。
- コンソールでインスタンスデータを手動でバックアップすることもでき、手動バックアップは永続的に保持されます。
>?手動バックアップは、バックアップキャパシティを占用することもあります。バックアップキャパシティを適切に使用して、予定外の費用が生じないようにしてください。

[](id:bfwt12)
### データとログのバックアップは無効にできますか？
無効にできません。ただし[MySQLコンソール](https://console.cloud.tencent.com/cdb)によりバックアップ頻度を削減し、今後使用しない手動バックアップデータを削除することにより、バックアップスペースの占有量を削減することができます。

[](id:bfwt13)
### 手動バックアップタスクを開始できないのはどうしてですか？
設定した自動バックアップタスクの時間を確認してください。インスタンスが毎日の自動バックアップを行っている場合、手動バックアップを開始することができません。

[](id:bfwt14)
### サブデータベーステーブルの論理バックアップとダウンロードが行えないのはどうしてですか？
[新しいバージョンのバックアップ](https://intl.cloud.tencent.com/document/product/236/37796)のアップグレード後、論理バックアップと物理バックアップは両方とも新しい圧縮アルゴリズムを採用しているため、一部のダウンロード機能はしばらく使用できなくなります。手動バックアップの**論理バックアップ**＞**データベーステーブルの指定**機能により、サブデータベーステーブルの論理バックアップを完了すると同時に、バックアップ後のファイルをダウンロードすることができます。

[](id:bfwt15)
### ダウンロードしたバックアップファイルをtarで解凍およびアンパックできないのはどうしてですか？
最新バージョンのバックアップファイルは新しい圧縮アルゴリズムを採用しているため、元のtarツールを使用して正常に解凍およびアンパックすることができません。解凍およびアンパックするには、xbstreamとqpressツールを使用してください。
xbstreamとqpressツールで解凍およびアンパックする手順の詳細については、[物理バックアップによるデータベースの復元](https://intl.cloud.tencent.com/document/product/236/31910)または[論理バックアップによるデータベースの復元](https://intl.cloud.tencent.com/document/product/236/31909)をご参照ください。

[](id:bfwt16)
### xbstreamおよびqpressツールをどのようにダウンロードしますか？
- xbstreamはPerconaのxtrabackupバックアップツール下のサブプログラムで、xbstreamを使用するには、まずPerconaのxtrabackupをインストールしてください。yumを使用したインストールおよびバイナリーインストールの2種類の方式によりxtrabackupをインストールすることができます。
- qpressをダウンロードしたら、tarコマンドを使用してqpressバイナリーファイルを解凍します。
具体的なxtrabackupおよびqpressのインストール方法については、[物理バックアップによるデータベースの復元](https://intl.cloud.tencent.com/document/product/236/31910)をご参照ください。

