## 소개

파일을 버킷에 업로드 한 후, COS(Cloud Object Storage)는 파일 링크(파일 URL)를 자동 생성하므로, 파일 URL(COS 기본 설정 도메인)을 통해 해당 파일에 액세스할 수 있습니다. CDN 또는 자체 도메인을 통해 COS 상의 파일에 액세스하고자 하는 경우, CDN 도메인 또는 자체 도메인을 파일이 속해있는 버킷에 바인딩해야 합니다.

실제 니즈에 따라, 상응하는 도메인을 사용해 파일에 액세스할 수 있습니다. 예를 들어, CDN을 통해 파일에 가속 액세스하고 자 하는 경우, CDN 가속 도메인이 생성한 파일 링크에 액세스하면 됩니다.

## 설정 설명

사용자는 다음 도메인을 통해 버킷 내 객체를 신속하게 다운로드 및 전송할 수 있습니다.

- 기본 도메인: COS 원본 서버 도메인으로, 버킷을 생성할 때 버킷 이름 및 리전에 따라 자동으로 생성됩니다.
- 사용자 정의 CDN 가속 도메인: 버킷과 관련하여 ICP비안이 등록된 사용자 정의 도메인을 Tencent Cloud의 중국 내 CDN 가속 플랫폼에 바인딩할 수 있으며, 사용자 정의 도메인으로 버킷 내 객체에 액세스할 수 있습니다(기존 버전 COS 콘솔에서 '사용자 정의 도메인'을 사용한 경우, 신규 버전 콘솔에는 '사용자 정의 CDN 가속 도메인'이 표시되지 않고, '사용자 정의 도메인'이 표시됨).
- 사용자 정의 원본 서버 도메인: ICP비안을 통과한 사용자 정의 도메인을 현재 버킷에 바인딩할 수 있으며, 사용자 정의 도메인을 통해 버킷에 있는 객체에 액세스합니다.

> !현재 COS에서 사용자 정의 CDN 가속 도메인을 사용할 경우, CDN을 반드시 활성화해야 합니다. 상황에 따라 판단하십시오.
>- 도메인으로 중국 내 CDN에 액세스할 경우 ICP비안이 필요합니다. 단, Tencent Cloud의 ICP비안이 반드시 필요한 것은 아니며, ICP비안이 등록된 액세스 도메인이면 가능합니다.
>- 도메인으로 해외 CDN에 액세스할 경우 ICP비안이 필요하지 않습니다. 단, Tencent Cloud에 저장한 데이터와 조작에 관해서는 해당 국가의 관련 법률/법규 및 [<Tencent Cloud 서비스 이용약관>](https://intl.cloud.tencent.com/document/product/301/12905)을 준수해야 한다는 점에 유의하십시오.

사용자 정의 CDN 가속 도메인에 CDN 가속을 활성화한 상태에서 원본 서버가 공개 읽기 버킷인 경우, 사용자 정의 CDN 가속 도메인으로 원본 서버 내 객체에 바로 액세스하도록 기본 설정됩니다. 원본 서버가 개인 읽기 버킷인 경우, CDN Origin-pull 인증 및 CDN 인증 설정 옵션을 활성화하길 권장합니다.

- Origin-pull 인증(활성화를 위해 CDN 서비스 라이선스를 추가해야 함): 요청한 데이터가 엣지 노드에서 캐시 미스된 경우, CDN은 Origin-pul을 통해 데이터 콘텐츠를 획득해야 합니다. COS를 원본 서버로 하여 Origin-pull 인증을 활성화하면 CDN 엣지 노드에서 특정 서비스 자격(CDN 서비스 라이선스로 해당 자격 확보해야 함)으로 COS 원본 서버에 액세스합니다. 이로써 버킷 내 데이터에 개인 액세스하여 데이터를 획득하고 캐싱할 수 있습니다.
- CDN 인증 설정: 엣지 노드에 액세스하여 캐시 데이터를 획득할 경우, 엣지 노드에서 인증 설정 규칙에 따라 액세스 URL의 인증 필드를 검사합니다. 권한이 없는 액세스를 차단하여 링크 도용을 방지하기 때문에 엣지 노드 내 캐시 데이터의 보안성과 신뢰성이 향상됩니다.

CDN 인증 설정과 CDN Origin-pull 인증은 사용 시 상충하지 않습니다. 단, 각각의 설정 상태에 따라 데이터 보호 효과가 서로 다릅니다. 자세한 내용은 다음 표를 확인하십시오.

| 버킷 액세스 권한       | CDN Origin-pull 인증 활성화 여부 | CDN 인증 설정 활성화 여부 | CDN 가속 도메인으로<br>원본 서버 액세스 가능 여부 | COS 원본 서버 도메인으로<br>원본 서버 액세스 가능 여부 | 적용 시나리오     |
| ------------------- | ------------ | ------------ | --------------- | --------------- | ------------ |
| 공개 읽기              | 비활성화         | 비활성화         | 액세스 가능          | 액세스 가능          | 전체 서버 공용 액세스 |
| 공개 읽기              | 활성화         | 비활성화         | 액세스 가능          | 액세스 가능          | 비권장       |
| 공개 읽기              | 비활성화         | 활성화         | URL 인증 필요          | 액세스 가능          | 비권장       |
| 공개 읽기              | 활성화         | 활성화         | URL 인증 필요          | 액세스 가능          | 비권장       |
| 개인 읽기+CDN 서비스 라이선스 | 활성화         | 활성화         | URL 인증 필요 | COS 인증 필요 | 전체 링크 보호   |
| 개인 읽기+CDN 서비스 라이선스 | 비활성화         | 활성화         | URL 인증 필요       | COS 인증 필요 | 비권장       |
| 개인 읽기+CDN 서비스 라이선스 | 활성화         | 비활성화         | 액세스 가능          | COS 인증 필요 | 원본 서버 보호    |
| 개인 읽기+CDN 서비스 라이선스 | 비활성화         | 비활성화         | 액세스 불가        | COS 인증 필요 | 비권장       |
| 개인 읽기              | 비활성화         | 활성화 또는 비활성화         | 액세스 불가 | COS 인증 필요 | CDN 이용 불가 |

> !
> - 상기 표의 첫 줄처럼, 원본 서버 버킷의 액세스 권한이 공개 읽기이며, CDN Origin-pull 인증과 CDN 인증 설정을 모두 비활성화한 경우, CDN 도메인으로 CDN 엣지 노드와 원본 서버 버킷에 바로 액세스할 수 있으며, COS 도메인으로 원본 서버 버킷에 바로 액세스할 수 있습니다.
> - 상기 표에서 언급된 **원본 서버 보호** 시나리오의 경우, CDN 인증 설정을 활성화하지 않으면 CDN 엣지 노드에 캐싱된 데이터가 악의적으로 유실될 수 있습니다. 데이터 보안을 위해 CDN 인증 설정도 함께 활성화하시길 권장합니다.
> - 사용자가 도메인의 CDN 가속을 활성화하면 누구나 해당 도메인으로 원본 서버에 바로 액세스할 수 있으므로, **인증 설정**을 통해 기밀 유지가 필요한 원본 서버의 데이터를 보호하십시오.

## 관련 작업

- [사용자 정의 CDN 가속 도메인 활성화](https://www.tencentcloud.com/document/product/436/31505)
- [사용자 정의 원본 서버 도메인 활성화](https://intl.cloud.tencent.com/document/product/436/31507)
- [서브 계정에 버킷 가속 도메인 설정 권한 부여](https://intl.cloud.tencent.com/document/product/436/31712)
- [사용자 정의 도메인 설정으로 HTTPS 액세스 지원](https://intl.cloud.tencent.com/document/product/436/11142)
